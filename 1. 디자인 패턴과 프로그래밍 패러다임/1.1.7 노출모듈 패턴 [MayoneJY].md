## 🔹 노출모듈 패턴이란?

자바와 같은 곳에서 사용하는 private, public 같은 접근 제어자를 만드는 패턴입니다.

<aside>

> [!NOTE] 
> 예전 javascript에서는 class가 없어서 노출모듈 패턴을 통해 private와 public 접근 제어자를 구현했습니다.

</aside>

## 🔹 활용방법

```jsx
const pukuba = (() => {
	const a = 1
	const b = () => 2
	const public = {
		c : 2,
		d : () => 3
	}
	return public
})()
console.log(pukuba) // { c: 2, d: [Function: d] }
console.log(pukuba.a) // undefined
```

## 🔹 지금은 javascript에 class가 있는데?

```jsx
class Counter {
  #count = 0;

  increment() {
    this.#count++;
    this.#log();
  }

  decrement() {
    this.#count--;
    this.#log();
  }

  #log() {
    console.log("현재 값:", this.#count);
  }
}

const c = new Counter();
c.increment(); // 가능
// c.#log(); // ❌ 에러
```

class는 ES6(2015년)부터 정식으로 도입됐습니다. 그럼에도 불구하고 노출모듈 패턴을 사용하는 이유가 있습니다.

1. 인스턴스가 필요 없는 유틸 모듈입니다.
2. 은닉성과 API 통제가 중요한 경우입니다.
3. 기본적으로 싱글톤 패턴입니다.

### 🔹 은닉성? class도 은닉할 수 있는 거 아니야?

ES2022 이상의 javascript에서 class를 구현하여 private를 구현할 수 있습니다. 하지만 디버깅을 통해 클래스를 복사해서 사용할 수 있는 위험이 있습니다.

그와 반면에 노출모듈 패턴은 디버깅으로도 접근할 수 없어서 더 강력하게 숨길 수 있습니다.

## 🔹 언제 class 쓰고, 언제 노출 모듈 패턴 쓰면 좋을까?

| 상황 | 추천 방식 |
| --- | --- |
| 상태를 가지는 객체 여러 개 생성 | `class` 사용 |
| 하나의 도구 객체로 고정 (싱글톤처럼) | 노출 모듈 패턴 |
| 유틸리티 함수 묶음 | 노출 모듈 패턴 |
| ES6 환경 + 타입스크립트 사용 | `class`, `interface` 권장 |
| 옛날 브라우저 지원 or 클로저 은닉성 활용 | 노출 모듈 패턴 |