# 1.2.1 선언형과 함수형 프로그래밍

### 선언형 프로그래밍(declarative programming)

- ‘무엇을’ 풀어내는가에 집중하는 패러다임
- “프로그램은 함수로 이루어진 것이다.” 라는 명제가 담겨 있는 패러다임

### 함수형 프로그래밍

- ‘순수 함수’들을 불록처럼 쌓아 로직을 구현
- ‘고차 함수’를 통해 재사용성을 높임

### 순수 함수

- 출력이 입력에만 의존하는 것

### 고차 함수

- 함수가 함수를 값처럼 매개변수로 받아 로직을 생성할 수 있는 것

### 일급 객체

- 언어가 일급 객체라는 특징을 가져야 한다.
    - 변수나 메서드에 함수를 할당할 수 있다.
    - 함수 안에 함수를 매개변수로 담을 수 있다.
    - 함수가 함수를 반환할 수 있다.

---

## **✅ 선언형 프로그래밍 (Declarative Programming)**

### **📌 정의**

> “무엇을 할 것인지”에 집중하는 방식의 프로그래밍
> 
- **어떻게(how)** 할지는 **컴퓨터/런타임에게 맡김**
- **명령형(Imperative)** 프로그래밍과 대비됨

---

### **✅ 특징**

| **선언형 프로그래밍** | **명령형 프로그래밍** |
| --- | --- |
| **무엇을** 할 것인지 설명 | **어떻게** 할 것인지 직접 명령 |
| 상태 변화 최소 | 상태 변화 많음 |
| 반복보다는 표현식 사용 | 루프, 변수 사용 |
| SQL, HTML, React JSX, 함수형 언어 등 | Java, C, Python 전통 방식 등 |

---

### **✅ 예시**

### **📍 명령형 방식 (Java)**

```java
int sum = 0;
for (int i = 1; i <= 5; i++) {
    sum += i;
}
System.out.println(sum);
```

### **📍 선언형 방식 (Java Stream)**

```java
int sum = IntStream.rangeClosed(1, 5).sum();
System.out.println(sum);
```

- “1부터 5까지의 합을 구해” 라는 **의도만** 표현 → 내부 동작은 숨겨짐

---

## **✅ 함수형 프로그래밍 (Functional Programming)**

### **📌 정의**

> 함수를 일급 객체로 다루며, 상태 변경 없이 순수 함수로 로직을 구성하는 프로그래밍 패러다임
> 

---

### **✅ 핵심 개념**

| **개념** | **설명** |
| --- | --- |
| **순수 함수 (Pure Function)** | 동일한 입력 → 항상 동일한 출력, 부작용 없음 |
| **불변성 (Immutability)** | 변수 값을 변경하지 않음 |
| **고차 함수 (Higher-Order Function)** | 함수를 인자로 받거나 반환함 |
| **일급 객체 (First-Class Function)** | 함수를 값처럼 다룸 |
| **선언형 스타일** | 대부분 선언형 방식으로 코딩함 |

---

### **✅ 함수형 프로그래밍은 선언형의 하위 개념**

```
선언형 프로그래밍
├── 함수형 프로그래밍 (Haskell, Scala, Java Stream, Kotlin FP)
├── SQL
├── React JSX
├── HTML/CSS
```

---

### **✅ 자바에서의 함수형 프로그래밍 예시 (Java 8+)**

```java
List<String> names = List.of("Alice", "Bob", "Charlie");

names.stream()
    .filter(name -> name.length() > 3)
    .map(String::toUpperCase)
    .forEach(System.out::println);
```

- filter, map, forEach는 모두 **고차 함수**
- **순수 함수 기반**으로 상태 변경 없이 데이터 흐름을 선언

---

## **✅ 차이 정리**

| **항목** | **선언형 프로그래밍** | **함수형 프로그래밍** |
| --- | --- | --- |
| 정의 | 무엇을 할지만 설명 | 순수 함수 + 불변성 기반으로 선언형 구현 |
| 상태 변경 | 가능한 최소화 | 원칙적으로 금지 |
| 활용 분야 | SQL, React, XAML, CSS 등 | Java Stream, Kotlin FP, Haskell 등 |
| 포함 관계 | 상위 개념 | 하위 개념 (선언형의 한 종류) |

---

## **✅ 요약**

| **키워드** | **설명** |
| --- | --- |
| 선언형 | **무엇을** 할지를 표현, 어떻게는 신경 안 씀 |
| 함수형 | 선언형 스타일 + **순수 함수**, **불변성**, **함수 조합** |
| 관계 | 함수형 프로그래밍은 선언형 프로그래밍의 하위 집합 |

---

## **✅ 일급 객체란?**

> 변수나 데이터처럼 “값”으로 자유롭게 다룰 수 있는 객체
> 

---

### **✅ 일급 객체가 되기 위한 조건 (3가지)**

| **조건** | **설명** |
| --- | --- |
| ✅ 변수에 담을 수 있다 | 어떤 변수에 할당할 수 있어야 함 |
| ✅ 함수의 인자로 전달 가능 | 파라미터로 넘길 수 있어야 함 |
| ✅ 함수의 반환값으로 사용 가능 | 함수 실행 결과로 반환할 수 있어야 함 |

---

## **✅ 예시: Java에서 함수는 일급 객체일까?**

**Java 8 이후 람다(lambda)** 도입으로 가능해졌다.

```java
import java.util.function.Function;

public class Main {
    public static void main(String[] args) {
        // 1. 변수에 할당
        Function<Integer, Integer> square = x -> x * x;

        // 2. 함수의 인자로 전달
        printResult(square, 5);

        // 3. 함수의 반환값으로 전달
        Function<Integer, Integer> result = getAdder(10);
        System.out.println(result.apply(3)); // 13
    }

    static void printResult(Function<Integer, Integer> func, int x) {
        System.out.println(func.apply(x));
    }

    static Function<Integer, Integer> getAdder(int n) {
        return x -> x + n;
    }
}
```

➡ Function 자체가 객체처럼 **할당, 전달, 반환** 모두 가능하니까

Java 8에서는 **함수도 일급 객체처럼 사용 가능**해진 거야.

---

## **✅ 왜 중요한가?**

**함수가 일급 객체이기 때문에** 가능한 것들이 많아져:

| **가능해지는 것** | **설명** |
| --- | --- |
| **콜백 함수** | 함수를 인자로 전달해서 이벤트 이후 실행 |
| **고차 함수** | 함수를 인자로 받거나 함수를 반환하는 함수 |
| **함수 합성** | 여러 함수 조합으로 새 동작 생성 |
| **전략 패턴의 함수 버전** | 객체 대신 함수로 전략을 전달 가능 |

---

## **✅ 요약**

| **항목** | **설명** |
| --- | --- |
| 정의 | 값처럼 변수에 할당, 전달, 반환이 가능한 객체 |
| 조건 | 변수에 저장 가능, 인자로 전달 가능, 반환 가능 |
| 예시 | JavaScript의 함수, Java 8의 람다, Python의 함수 등 |
| 중요성 | 고차 함수, 콜백, 함수 조합 등 함수형 프로그래밍의 핵심 개념 가능하게 함 |