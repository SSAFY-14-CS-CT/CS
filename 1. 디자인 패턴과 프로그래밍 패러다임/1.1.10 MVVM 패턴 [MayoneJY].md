## 🔹 MVVM 패턴이란?

MVVM 패턴(Model-View-ViewModel)은 UI(View)와 비즈니스 로직(Model) 사이에 **ViewModel**을 두어 양방향 데이터 바인딩으로 연결하는 아키텍처 패턴입니다.

주로 WPF, Xamarin, SwiftUI, 안드로이드 Jetpack Compose, React(유사 패턴) 등 **UI 프레임워크에서 광범위하게 사용**됩니다.

![MVP 패턴.jpeg](https://www.notion.so/image/attachment%3Af147d681-f653-46af-b550-2f9d7588151c%3AMVP_%E1%84%91%E1%85%A2%E1%84%90%E1%85%A5%E1%86%AB.jpeg?table=block&id=247f2736-63fe-8056-9684-d6f3087bfe53&spaceId=8a9848ac-1538-429f-9e4d-a74859e5216b&width=2000&userId=61f42516-ecd5-47be-9b3b-101668abb28d&cache=v2)

### 🔹 **Model(모델)**

앱의 데이터, 비즈니스 로직을 담당합니다.

### 🔹 **View(뷰)**

사용자 인터페이스(UI)를 담당하며, ViewModel에만 의존합니다.

### 🔹 **Presenter(프레젠터)**

View와 Model을 연결해주는 역할.

Model의 데이터를 가공해 View에 전달하며, View의 입력을 받아 Model에 반영합니다.

주로 **데이터 바인딩**을 이용해 View와 자동으로 동기화됩니다.

<aside>

> [!NOTE]
> **데이터 바인딩:** 화면에 보이는 데이터와 웹 브라우저의 메모리 데이터를 일치시키는 기법으로, 뷰모델을 변경하면 뷰가 변경됩니다.

</aside>

## 🔹 동작 흐름

1. **View**: ViewModel과 데이터 바인딩을 설정
2. **사용자 입력**: View에서 이벤트 발생 → ViewModel의 커맨드/프로퍼티로 전달
3. **ViewModel**: 입력 처리, Model에 데이터 요청/수정
4. **Model**: 데이터 변경/조회 → ViewModel에 결과 반환
5. **ViewModel**: 변경된 데이터로 프로퍼티 갱신
6. **View**: 데이터 바인딩을 통해 UI 자동 업데이트

## 🔹 MVP 패턴 예시 (Java, Android 기준)

```java
// model/userModel.js
export async function fetchUser() {
  // 실제로는 axios/fetch 등으로 데이터 가져옴
  return { name: "홍길동" };
}

// viewmodel/useUserViewModel.js
import { useState, useEffect } from "react";
import { fetchUser } from "../model/userModel";

export function useUserViewModel() {
  const [userName, setUserName] = useState("");
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    fetchUser().then(user => {
      setUserName(user.name);
      setLoading(false);
    });
  }, []);

  // UI에 노출하고 싶은 값만 반환
  return {
    userName,
    setUserName,  // View에서 입력을 ViewModel에 반영 (양방향 바인딩 역할)
    loading,
  };
}

// view/UserView.js
import React from "react";
import { useUserViewModel } from "../viewmodel/useUserViewModel";

export default function UserView() {
  const { userName, setUserName, loading } = useUserViewModel();

  if (loading) return <div>로딩 중...</div>;

  return (
    <div>
      <input
        type="text"
        value={userName}
        onChange={e => setUserName(e.target.value)}
        placeholder="이름 입력"
      />
      <p>사용자 이름: {userName}</p>
    </div>
  );
}
```