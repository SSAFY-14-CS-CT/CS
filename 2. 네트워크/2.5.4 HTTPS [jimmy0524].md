# 2.5.4 HTTPS

- HTTP/2는 **HTTPS 위에서 동작**하며, HTTPS는 애플리케이션 계층과 전송 계층 사이에 **SSL/TLS 계층**을 추가해 **통신을 암호화**한다.
- SSL(Secure Socket Layer)은 TLS(Transport Layer Security)로 발전했으며, 최신 버전은 **TLS 1.3**이다.
- SSL/TLS는 **클라이언트와 서버 간 통신에서 도청, 변조를 방지**하며 안전한 연결을 제공한다.

### 1. 보안 세션(Security Session)

- SSL/TLS는 **핸드셰이크 과정을 통해 보안 세션을 생성**
- 보안 세션 동안 인증, 키 교환, 해싱 등을 기반으로 **암호화된 데이터 송수신**
- TLS 1.3에서는 이전에 방문한 사이트라면 **0-RTT**를 통해 세션을 빠르게 재사용 가능

### 2. 인증 메커니즘(Certificate)

- 서버 인증은 **CA(Certificate Authority)에서 발급한 인증서**를 기반으로 이루어짐
- 인증서는 서버 정보, 공개키, 디지털 서명 등으로 구성
- CA는 엄격히 공인된 기업만 가능(예: Comodo, GoDaddy, GlobalSign, Amazon)

### 3. 키 교환 암호화

- TLS는 **개인키/공개키 기반 키 교환 알고리즘** 사용
- 대표적: **ECDHE(Elliptic Curve Diffie-Hellman Ephemeral), DHE(Diffie-Hellman Ephemeral)**
- 클라이언트와 서버가 공개키와 비밀키를 조합하여 **공통 세션 키(PSK)** 생성 → 제3자가 키를 알 수 없음

### 4. 해싱 알고리즘

- 데이터 무결성을 위해 **SHA-256, SHA-384** 등 해싱 알고리즘 사용
- 해싱: 데이터를 고정 길이의 데이터로 변환 → 원본 추정 불가

### 5. HTTPS와 SEO

- 구글은 HTTPS를 사용하는 사이트를 우대하며, **SEO(Search Engine Optimization) 순위 향상**에 도움
- SEO 최적화 방법:
    1. **캐노니컬 설정**: 중복 페이지 문제 방지
    2. **메타 설정**: HTML 메타 정보 최적화
    3. **페이지 속도 개선**: 빠른 로딩으로 사용자 경험 개선
    4. **사이트맵 관리**: 정기적 XML 관리로 검색 엔진 크롤링 지원

### 6. HTTPS 구축 방법

- **직접 CA 인증서 구매 후 서버 구축**
- **로드밸런서에서 HTTPS 제공**
- **CDN에서 HTTPS 제공**

## 📌 면접 예상 질문 & 답변

### 1️⃣ HTTPS는 무엇이고 HTTP와 어떤 차이가 있나요?

**답변**

HTTP는 데이터를 평문(plain text)으로 주고받기 때문에 도청이나 변조에 취약합니다.

HTTPS는 HTTP 위에 **SSL/TLS 계층**을 추가하여 통신을 암호화합니다.

이를 통해 **기밀성, 무결성, 인증**을 보장할 수 있습니다.

---

### 2️⃣ SSL과 TLS는 무엇인가요?

**답변**

SSL(Secure Socket Layer)은 초기 암호화 프로토콜이고, 이후 발전한 표준이 TLS(Transport Layer Security)입니다.

현재는 TLS가 사용되고 있으며 최신 버전은 **TLS 1.3**입니다.

---

### 3️⃣ HTTPS에서 보안 세션(Security Session)은 어떻게 생성되나요?

**답변**

클라이언트와 서버가 **TLS 핸드셰이크**를 수행하여 세션을 생성합니다.

이 과정에서 인증, 키 교환, 해싱 등을 수행해 **세션 키(대칭키)**를 공유합니다.

TLS 1.3에서는 **0-RTT** 기능으로 이전에 방문한 사이트라면 세션을 재사용해 연결 시간을 줄일 수 있습니다.

---

### 4️⃣ HTTPS에서 서버 인증은 어떻게 이루어지나요?

**답변**

서버는 **CA(Certificate Authority)**가 발급한 인증서를 클라이언트에 전달합니다.

클라이언트는 브라우저/운영체제에 내장된 CA 공개키로 인증서의 유효성을 검증합니다.

인증서에는 서버 정보, 공개키, 디지털 서명이 포함됩니다.

---

### 5️⃣ HTTPS에서 키 교환은 어떻게 이루어지나요?

**답변**

TLS는 **비대칭키 암호화(공개키/개인키)**로 세션 키를 교환합니다.

대표적인 알고리즘은 **ECDHE, DHE**입니다.

클라이언트와 서버는 서로의 공개키와 개인키를 조합해 동일한 **공통 세션 키**를 생성하고, 이후 데이터 전송은 **대칭키 암호화**로 진행됩니다.

---

### 6️⃣ 왜 대칭키 대신 비대칭키만 쓰지 않고 세션 키를 쓰나요?

**답변**

비대칭키 암호화는 연산량이 많아 속도가 느립니다.

따라서 최초 연결 시에는 비대칭키로 세션 키를 교환하고, 이후에는 **빠른 대칭키 암호화**를 사용합니다.

---

### 7️⃣ HTTPS에서 해싱 알고리즘은 왜 사용되나요?

**답변**

해싱은 데이터 무결성을 보장하기 위해 사용됩니다.

예를 들어, SHA-256 같은 해시 알고리즘을 이용해 데이터가 전송 중 변조되지 않았는지 검증할 수 있습니다.

---

### 8️⃣ HTTPS를 사용하면 SEO에 어떤 이점이 있나요?

**답변**

구글은 HTTPS를 사용하는 사이트를 우대해 **검색 순위를 높여줍니다.**

또한 사용자 보안과 신뢰성이 확보되어 UX 개선에도 도움이 됩니다.

---

### 9️⃣ HTTPS는 어떻게 구축할 수 있나요?

**답변**

방법은 세 가지가 있습니다.

1. 직접 CA 인증서를 구매해서 서버에 설치
2. **로드밸런서**에서 HTTPS 제공
3. **CDN**에서 HTTPS 제공

   또는 무료 인증서 발급 서비스인 **Let’s Encrypt**를 활용할 수도 있습니다.


---

### 🔟 TLS 1.3에서 도입된 0-RTT는 무엇인가요?

**답변**

0-RTT는 이전에 연결한 서버라면 세션을 재사용해 **핸드셰이크 없이 즉시 데이터 전송**이 가능한 기능입니다.

이를 통해 초기 연결 지연을 크게 줄일 수 있습니다.