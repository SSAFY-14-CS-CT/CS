## 🔹 HTTP/2란?

HTTP/2는 2015년 RFC 7540에서 정의된 프로토콜로, HTTP/1.1의 성능 한계를 극복하기 위해 설계되었습니다.
특히 멀티플렉싱, 헤더 압축, 서버 푸시 세 가지 핵심 기능을 통해 지연 감소와 효율적인 전송을 달성했습니다.

## 🔹 멀티플렉싱(Multiplexing)

- HTTP/1.1의 HOL Blocking 문제 해결을 위해 등장.

- 하나의 TCP 연결 위에서 여러 개의 요청과 응답을 동시에 병렬 처리할 수 있음.

- 요청마다 별도의 연결을 만들 필요가 없어지고, 응답도 순서에 구애받지 않음.

- 예: 이미지 100개를 동시에 요청해도 단일 연결에서 병렬 응답 가능.

## 🔹 헤더 압축 (HPACK)

- HTTP/1.1에서는 매 요청마다 쿠키, User-Agent 같은 무거운 헤더가 반복 전송됨 → 비효율적.

- HTTP/2는 HPACK(Header Compression) 알고리즘을 도입하여 중복 제거와 압축을 수행.

- 동일한 헤더는 테이블에 저장해 재사용하고, 새로운 값만 전송 → 대역폭 절약 + 속도 향상.

## 🔹 서버 푸시(Server Push)

- 서버가 클라이언트 요청을 기다리지 않고 예상되는 리소스(HTML이 참조하는 CSS, JS 등)를 먼저 전송할 수 있음.

- 예: 브라우저가 index.html을 요청하면, 서버는 CSS와 JS를 함께 푸시하여 추가 요청에 따른 RTT를 줄임.

- 장점: 초기 로딩 속도 개선.

- 단점: 불필요한 리소스 푸시 시 대역폭 낭비 가능 → HTTP/3 이후 일부 브라우저에서 기본 비활성화 추세.

## 🔹 예상 면접 질문 & 답변
### 1. HTTP/2의 가장 큰 특징은 무엇인가요?

답변: 

가장 핵심은 멀티플렉싱입니다. HTTP/1.1은 요청/응답이 순차적으로 처리되어 HOL Blocking 문제가 있었는데, HTTP/2는 하나의 TCP 연결에서 여러 요청과 응답을 동시에 처리할 수 있습니다. 이를 통해 웹 페이지 로딩 속도가 크게 개선되었습니다.

### 2. HTTP/2의 헤더 압축은 어떻게 동작하나요?

답변: 

HTTP/2는 HPACK 알고리즘을 사용합니다. 요청마다 반복적으로 전송되는 쿠키나 User-Agent 같은 헤더 값을 압축합니다. 동일한 헤더는 테이블에 저장하고, 이후에는 인덱스만 참조하거나 변경된 부분만 전송하기 때문에 대역폭을 절약하고 성능을 개선할 수 있습니다.

### 3. HTTP/2의 서버 푸시(Server Push)는 어떤 장점과 단점이 있나요?

답변:

- 장점: 클라이언트 요청 전에 서버가 필요한 리소스를 미리 보내줌으로써 RTT를 줄이고 초기 로딩 속도를 높일 수 있습니다.

- 단점: 사용자가 필요하지 않은 리소스를 미리 푸시하면 오히려 대역폭 낭비와 캐시 충돌을 유발할 수 있습니다. 이런 이유로 최근에는 HTTP/3에서 서버 푸시 대신 다른 최적화 방식(103 Early Hints 등)이 활용되고 있습니다.

### 4. HTTP/2에도 여전히 남아 있는 한계는 무엇인가요?

답변: 

HTTP/2는 멀티플렉싱을 지원하지만 여전히 TCP 기반입니다. TCP는 패킷 손실이 발생하면 순서 보장을 위해 해당 스트림뿐 아니라 같은 연결을 공유하는 모든 스트림이 지연될 수 있습니다. 즉, TCP 레벨의 HOL Blocking 문제는 완전히 해결되지 않았습니다. 이를 해결하기 위해 HTTP/3는 UDP 기반 QUIC 프로토콜을 사용합니다.

### 5. HTTP/1.1과 비교했을 때 HTTP/2로 전환했을 때의 실제 체감 성능 향상 포인트는 무엇인가요?

답변:

- 멀티플렉싱 덕분에 많은 리소스를 병렬 전송할 수 있어 이미지, JS, CSS 요청이 많은 웹사이트의 성능이 향상됩니다.

- HPACK 압축으로 인해 모바일 환경처럼 네트워크 대역폭이 제한된 상황에서 큰 차이를 보입니다.

- 서버 푸시로 초기 렌더링 속도가 개선됩니다.